<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="XhjQWCtIiyDW5It6nYDFSdPNOaswmQKDj5vZOe3XAWg" />








  <meta name="baidu-site-verification" content="code-rXQQcHP9V1" />







  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="å‰ç«¯," />










<meta name="description" content="â éšç€Webåº”ç”¨ç¨‹åºçš„å‡ºç°ï¼Œç›´æ¥åœ¨å®¢æˆ·ç«¯å­˜å‚¨ç”¨æˆ·ä¿¡æ¯çš„éœ€æ±‚ä¹Ÿéšä¹‹å‡ºç°ã€‚é‚£ä¹ˆæˆ‘ä»¬å‰ç«¯å¸¸ç”¨çš„å­˜å‚¨æ–¹å¼æœ‰å“ªäº›å‘¢ï¼Ÿ â  å‰è¨€å¦‚æœè¿™ç¯‡æ–‡ç« æœ‰å¸®åŠ©åˆ°ä½ ï¼Œâ¤ï¸å…³æ³¨+ç‚¹èµâ¤ï¸é¼“åŠ±ä¸€ä¸‹ä½œè€…ï¼Œæ–‡ç« å…¬ä¼—å·é¦–å‘ï¼Œå…³æ³¨ ã€Œå‰ç«¯å—ç–ã€ ç¬¬ä¸€æ—¶é—´è·å–æœ€æ–°çš„æ–‡ç« ï½  HTML5å¸¸ç”¨çš„å‡ ç§å­˜å‚¨æ–¹å¼   æœ¬åœ°å­˜å‚¨ï¼šlocalStorage, sessionStorage, cookies   ç¦»çº¿ç¼“å­˜ï¼šapplication">
<meta property="og:type" content="article">
<meta property="og:title" content="è¿™ä¸€æ¬¡å¸¦ä½ å½»åº•äº†è§£å‰ç«¯æœ¬åœ°å­˜å‚¨">
<meta property="og:url" content="https://bettersong.github.io/2021/11/01/%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8/index.html">
<meta property="og:site_name" content="å—ç–blog">
<meta property="og:description" content="â éšç€Webåº”ç”¨ç¨‹åºçš„å‡ºç°ï¼Œç›´æ¥åœ¨å®¢æˆ·ç«¯å­˜å‚¨ç”¨æˆ·ä¿¡æ¯çš„éœ€æ±‚ä¹Ÿéšä¹‹å‡ºç°ã€‚é‚£ä¹ˆæˆ‘ä»¬å‰ç«¯å¸¸ç”¨çš„å­˜å‚¨æ–¹å¼æœ‰å“ªäº›å‘¢ï¼Ÿ â  å‰è¨€å¦‚æœè¿™ç¯‡æ–‡ç« æœ‰å¸®åŠ©åˆ°ä½ ï¼Œâ¤ï¸å…³æ³¨+ç‚¹èµâ¤ï¸é¼“åŠ±ä¸€ä¸‹ä½œè€…ï¼Œæ–‡ç« å…¬ä¼—å·é¦–å‘ï¼Œå…³æ³¨ ã€Œå‰ç«¯å—ç–ã€ ç¬¬ä¸€æ—¶é—´è·å–æœ€æ–°çš„æ–‡ç« ï½  HTML5å¸¸ç”¨çš„å‡ ç§å­˜å‚¨æ–¹å¼   æœ¬åœ°å­˜å‚¨ï¼šlocalStorage, sessionStorage, cookies   ç¦»çº¿ç¼“å­˜ï¼šapplication">
<meta property="og:locale">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5cdaf49802334fd680760c1aeab0bdb7~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a792198107354f29b0c7737acc2ff96a~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/75e755a5fd184cf799c4272e313dc550~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ffd452954d004e659b1ad27c57d252cc~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f9761c22cdf94daab724f25e11648f96~tplv-k3u1fbpfcp-watermark.image">
<meta property="article:published_time" content="2021-11-01T09:06:58.000Z">
<meta property="article:modified_time" content="2021-11-01T09:15:23.330Z">
<meta property="article:author" content="songyao">
<meta property="article:tag" content="å‰ç«¯">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5cdaf49802334fd680760c1aeab0bdb7~tplv-k3u1fbpfcp-watermark.image">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://bettersong.github.io/2021/11/01/æœ¬åœ°å­˜å‚¨/"/>





  <title>è¿™ä¸€æ¬¡å¸¦ä½ å½»åº•äº†è§£å‰ç«¯æœ¬åœ°å­˜å‚¨ | å—ç–blog</title>
  








<meta name="generator" content="Hexo 5.4.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">å—ç–blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">å­¦ä¹ ç‚¹æ»´ğŸ“–</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://bettersong.github.io/2021/11/01/%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="songyao">
      <meta itemprop="description" content="æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·ï¼šå‰ç«¯å—ç–">
      <meta itemprop="image" content="/uploads/my.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="å—ç–blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">è¿™ä¸€æ¬¡å¸¦ä½ å½»åº•äº†è§£å‰ç«¯æœ¬åœ°å­˜å‚¨</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2021-11-01T17:06:58+08:00">
                2021-11-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2021/11/01/%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2021/11/01/%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote>
<p>â</p>
<p>éšç€Webåº”ç”¨ç¨‹åºçš„å‡ºç°ï¼Œç›´æ¥åœ¨å®¢æˆ·ç«¯å­˜å‚¨ç”¨æˆ·ä¿¡æ¯çš„éœ€æ±‚ä¹Ÿéšä¹‹å‡ºç°ã€‚é‚£ä¹ˆæˆ‘ä»¬å‰ç«¯å¸¸ç”¨çš„å­˜å‚¨æ–¹å¼æœ‰å“ªäº›å‘¢ï¼Ÿ</p>
<p>â</p>
</blockquote>
<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¦‚æœè¿™ç¯‡æ–‡ç« æœ‰å¸®åŠ©åˆ°ä½ ï¼Œâ¤ï¸å…³æ³¨+ç‚¹èµâ¤ï¸é¼“åŠ±ä¸€ä¸‹ä½œè€…ï¼Œæ–‡ç« å…¬ä¼—å·é¦–å‘ï¼Œå…³æ³¨ <strong>ã€Œå‰ç«¯å—ç–ã€</strong> ç¬¬ä¸€æ—¶é—´è·å–æœ€æ–°çš„æ–‡ç« ï½</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5cdaf49802334fd680760c1aeab0bdb7~tplv-k3u1fbpfcp-watermark.image" alt="å“ªå’.gif"></p>
<h3 id="HTML5å¸¸ç”¨çš„å‡ ç§å­˜å‚¨æ–¹å¼"><a href="#HTML5å¸¸ç”¨çš„å‡ ç§å­˜å‚¨æ–¹å¼" class="headerlink" title="HTML5å¸¸ç”¨çš„å‡ ç§å­˜å‚¨æ–¹å¼"></a>HTML5å¸¸ç”¨çš„å‡ ç§å­˜å‚¨æ–¹å¼</h3><ul>
<li>  æœ¬åœ°å­˜å‚¨ï¼š<code>localStorage</code>, <code>sessionStorage</code>, <code>cookies</code></li>
<li>  ç¦»çº¿ç¼“å­˜ï¼š<code>application cache</code></li>
<li>  å‰ç«¯æ•°æ®åº“ï¼š<code>indexedDB</code>, <code>webSQL</code></li>
</ul>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a792198107354f29b0c7737acc2ff96a~tplv-k3u1fbpfcp-watermark.image" alt="storage.png"></p>
<h3 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h3><blockquote>
<p>â</p>
<p><code>HTTP cookie</code> é€šå¸¸ä¹Ÿå«åš<code>cookie</code>ï¼Œæœ€åˆç”¨äºåœ¨å®¢æˆ·ç«¯å­˜å‚¨ä¼šè¯ä¿¡æ¯ã€‚<strong>ã€Œ<code>cookie</code>æ˜¯ä¸ç‰¹å®šåŸŸåç»‘å®šçš„ï¼Œè®¾ç½®<code>cookie</code>åï¼Œå®ƒä¼šä¸è¯·æ±‚ä¸€èµ·å‘é€åˆ°åˆ›å»ºå®ƒçš„åŸŸã€‚ã€</strong> è¿™ä¸ªé™åˆ¶èƒ½ä¿è¯cookieä¸­å­˜å‚¨çš„ä¿¡æ¯åªå¯¹è¢«è®¤å¯çš„æ¥æ”¶è€…å¼€æ”¾ï¼Œä¸è¢«å…¶å®ƒåŸŸè®¿é—®ã€‚</p>
<p>â</p>
</blockquote>
<h4 id="cookieçš„æ„æˆ"><a href="#cookieçš„æ„æˆ" class="headerlink" title="cookieçš„æ„æˆ"></a>cookieçš„æ„æˆ</h4><ul>
<li>  <strong>ã€Œåç§°ï¼šã€</strong> å”¯ä¸€æ ‡è¯†cookieçš„åç§°ã€‚cookieä¸åŒºåˆ†å¤§å°å†™ï¼Œcookieåå¿…é¡»ç»è¿‡URLç¼–ç ã€‚</li>
<li>  <strong>ã€Œå€¼ï¼šã€</strong> å­˜å‚¨åœ¨cookieé‡Œçš„å­—ç¬¦ä¸²å€¼ï¼Œè¿™ä¸ªå€¼å¿…é¡»ç»è¿‡URLç¼–ç ã€‚</li>
<li>  <strong>ã€ŒåŸŸï¼šã€</strong> cookieçš„æœ‰æ•ˆåŸŸï¼Œå‘é€åˆ°è¿™ä¸ªåŸŸçš„æ‰€æœ‰è¯·æ±‚éƒ½ä¼šåŒ…å«å¯¹åº”çš„cookieã€‚</li>
<li>  <strong>ã€Œè·¯å¾„ï¼šã€</strong> è¯·æ±‚URLä¸­åŒ…å«è¿™ä¸ªè·¯å¾„æ‰ä¼šæŠŠcookieå‘é€åˆ°æœåŠ¡å™¨ã€‚</li>
<li>  <strong>ã€Œè¿‡æœŸæ—¶é—´ï¼šã€</strong> è¡¨ç¤ºä½•æ—¶åˆ é™¤cookieçš„æ—¶é—´æˆ³ã€‚ï¼ˆå³ä»€ä¹ˆæ—¶é—´ä¹‹åå°±ä¸ä¼šå‘é€åˆ°æœåŠ¡å™¨äº†ï¼‰</li>
<li>  <strong>ã€Œå®‰å…¨æ ‡è¯†ï¼šã€</strong> è®¾ç½®ä¹‹åï¼Œåªåœ¨ä½¿ç”¨SSLå®‰å…¨è¿æ¥çš„æƒ…å†µä¸‹æ‰ä¼šæŠŠcookieå‘é€åˆ°æœåŠ¡å™¨ã€‚</li>
</ul>
<h4 id="é™åˆ¶"><a href="#é™åˆ¶" class="headerlink" title="é™åˆ¶"></a>é™åˆ¶</h4><p><strong>ã€Œå› ä¸ºcookieå­˜å‚¨åœ¨å®¢æˆ·ç«¯æœºå™¨ä¸Šï¼Œæ‰€ä»¥ä¸ºä¿è¯å®ƒä¸ä¼šè¢«æ¶æ„åˆ©ç”¨ï¼Œæµè§ˆå™¨ä¼šæ–½åŠ é™åˆ¶ã€‚ã€</strong></p>
<ul>
<li>  ä¸è¶…è¿‡300ä¸ªcookie</li>
<li>  æ¯ä¸ªcookieä¸è¶…è¿‡4096å­—èŠ‚ï¼ˆ4kb)</li>
<li>  æ¯ä¸ªåŸŸä¸è¶…è¿‡20ä¸ªcookie</li>
<li>  æ¯ä¸ªåŸŸä¸è¶…è¿‡81920å­—èŠ‚</li>
</ul>
<h4 id="JavaScriptä¸­çš„cookie"><a href="#JavaScriptä¸­çš„cookie" class="headerlink" title="JavaScriptä¸­çš„cookie"></a>JavaScriptä¸­çš„cookie</h4><p>åœ¨JavaScriptä¸­å¤„ç†cookieæ¯”è¾ƒéº»çƒ¦ï¼Œå› ä¸ºæ¥å£è¿‡äºç®€å•ï¼Œåªæœ‰<strong>ã€ŒBOMã€</strong> çš„<code>document.cookie</code>å±æ€§ã€‚</p>
<h4 id="è·å–cookie"><a href="#è·å–cookie" class="headerlink" title="è·å–cookie"></a>è·å–cookie</h4><p><code>document.cookie</code>è¿”å›åŒ…å«é¡µé¢ä¸­æ‰€æœ‰æœ‰æ•ˆcookieçš„å­—ç¬¦ä¸²ï¼Œä»¥åˆ†å·åˆ†éš”ï¼›</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name1=value1;name2=valve2;name3=value3</span><br></pre></td></tr></table></figure>

<p><strong>ã€Œæ‰€æœ‰åå’Œå€¼éƒ½æ˜¯URLç¼–ç ï¼Œå› æ­¤å¿…é¡»ä½¿ç”¨<code>decodeURIComponent()</code>è§£ç ã€</strong></p>
<h4 id="è®¾ç½®cookie"><a href="#è®¾ç½®cookie" class="headerlink" title="è®¾ç½®cookie"></a>è®¾ç½®cookie</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">name=value;Â expires=expiration_time;Â path=domain_path;Â domain=domain_namelÂ secure</span><br><span class="line">//åœ¨æ‰€æœ‰è¿™äº›å‚æ•°ä¸­ï¼Œåªæœ‰cookieçš„åç§°å’Œå€¼æ˜¯å¿…é¡»çš„</span><br><span class="line"></span><br><span class="line">document.cookieÂ =Â `$&#123;encodeURIComponent(&#x27;name&#x27;)&#125;=$&#123;encodeURIComponent(&#x27;nanjiu&#x27;)&#125;;domain=bettersong.github.io;`</span><br></pre></td></tr></table></figure>

<h4 id="åˆ é™¤cookie"><a href="#åˆ é™¤cookie" class="headerlink" title="åˆ é™¤cookie"></a>åˆ é™¤cookie</h4><p><strong>ã€Œæ²¡æœ‰ç›´æ¥åˆ é™¤å·²æœ‰cookieçš„æ–¹æ³•ï¼Œä½†å¯ä»¥é€šè¿‡è®¾ç½®å…¶è¿‡æœŸæ—¶é—´æ¥è¾¾åˆ°åˆ é™¤æ•ˆæœï¼›ã€</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.cookieÂ =Â &#x27;uid=dkfywqkrhkwehf23;expires=&#x27;Â +Â newÂ Date(0)Â +Â &#x27;;path=/;secure;</span><br></pre></td></tr></table></figure>

<h4 id="cookieæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"><a href="#cookieæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ" class="headerlink" title="cookieæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"></a>cookieæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h4><p><strong>ã€Œrequestï¼šã€</strong></p>
<p>å½“æµè§ˆå™¨å‘èµ·ä¸€ä¸ªè¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨æ£€æŸ¥æ˜¯å¦æœ‰ç›¸åº”çš„cookieï¼Œå¦‚æœæœ‰åˆ™å°†cookieæ·»åŠ åˆ°<code>Request Headers</code>çš„<code>Cookie</code>å­—æ®µä¸­</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/75e755a5fd184cf799c4272e313dc550~tplv-k3u1fbpfcp-watermark.image" alt="request.png"></p>
<p><strong>ã€Œresponse:ã€</strong></p>
<p>å½“æœåŠ¡å™¨éœ€è¦cookieæ—¶ï¼Œåœ¨httpè¯·æ±‚çš„Response Headerså­—æ®µä¸­æ·»åŠ Set-Cookieå­—æ®µï¼Œæµè§ˆå™¨æ¥æ”¶åˆ°ä¹‹åä¼šè‡ªåŠ¨è§£æè¯†åˆ«ï¼Œå°†cookieç§ä¸‹ã€‚</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ffd452954d004e659b1ad27c57d252cc~tplv-k3u1fbpfcp-watermark.image" alt="response.png"></p>
<h3 id="localStorage-å’ŒsessionStorage"><a href="#localStorage-å’ŒsessionStorage" class="headerlink" title="localStorage å’ŒsessionStorage"></a>localStorage å’ŒsessionStorage</h3><blockquote>
<p>â</p>
<p><code>localStorage</code>åªè¦åœ¨<code>ç›¸åŒçš„åè®®ï¼ŒåŸŸåï¼Œç«¯å£</code>ä¸‹å°±èƒ½è¯»å–æˆ–ä¿®æ”¹åŒä¸€ä»½<code>localStorageæ•°æ®</code>ï¼ŒsessionStorageå¯¹è±¡åªå­˜å‚¨ä¼šè¯æ•°æ®ï¼Œè¿™æ„å‘³ç€æ•°æ®åªä¼šå­˜å‚¨åˆ°æµè§ˆå™¨å…³é—­ã€‚<strong>ã€ŒsessionStorageé™¤äº†åè®®ï¼ŒåŸŸåï¼Œç«¯å£å¤–ï¼Œè¿˜è¦æ±‚åœ¨åŒä¸€çª—å£ä¸‹ã€‚ã€</strong></p>
<p>â</p>
</blockquote>
<ul>
<li>  localStorage æ°¸ä¹…å­˜å‚¨ï¼Œé™¤éæ‰‹åŠ¨åˆ é™¤ã€‚</li>
<li>  sessionStorageå­˜å‚¨åˆ°æµè§ˆæœŸå…³é—­å°±æ¶ˆå¤±äº†</li>
<li>  æ¯ä¸ªåŸŸåç»™localStorageå’ŒsessionStorageåˆ†é…çš„å­˜å‚¨ç©ºé—´æ—¶<strong>5M</strong> ï¼Œcookieæ˜¯<strong>4kb</strong></li>
</ul>
<h4 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">setItem(&#x27;key&#x27;,&#x27;value&#x27;)Â Â //Â å­˜å‚¨æ•°æ®</span><br><span class="line"></span><br><span class="line">getItem(&#x27;key&#x27;)Â //Â è¯»å–æ•°æ®</span><br><span class="line"></span><br><span class="line">remove(&#x27;key&#x27;)Â //Â åˆ é™¤æ•°æ®</span><br><span class="line"></span><br><span class="line">clear()Â //Â æ¸…ç©º</span><br></pre></td></tr></table></figure>

<p><strong>ã€Œâš ï¸æ³¨æ„ï¼šStorageç±»å‹æ™ºèƒ½å­˜å‚¨å­—ç¬¦ä¸²ã€‚éå­—ç¬¦ä¸²æ•°æ®åœ¨å­˜å‚¨ä¹‹å‰ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå¹¶ä¸”è¿™ç§è½¬æ¢ä¸èƒ½åœ¨è·å–æ•°æ®æ—¶æ’¤é”€ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ åœ¨è·å–storageæ•°æ®æ—¶ï¼Œæ‹¿åˆ°çš„ä¸€å®šæ˜¯å­—ç¬¦ä¸²ï¼Œéœ€è¦è‡ªå·±æ‰‹åŠ¨è½¬ã€</strong></p>
<h4 id="å­˜å‚¨JSONå¯¹è±¡çš„æ•°æ®"><a href="#å­˜å‚¨JSONå¯¹è±¡çš„æ•°æ®" class="headerlink" title="å­˜å‚¨JSONå¯¹è±¡çš„æ•°æ®"></a>å­˜å‚¨JSONå¯¹è±¡çš„æ•°æ®</h4><p><code>Storage</code>æ˜¯ä»¥å­—ç¬¦ä¸²ä¿å­˜æ•°æ®çš„ï¼Œæ‰€ä»¥åœ¨ä¿å­˜<code>JSON</code>æ ¼å¼çš„æ•°æ®ä¹‹å‰ï¼Œæœ€å¥½æŠŠæ•°æ®è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œè¿™ä¸ªæ“ä½œå«<strong>ã€Œåºåˆ—åŒ–ã€</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">letÂ objÂ =Â &#123;</span><br><span class="line">Â Â name:Â &#x27;å—ç–&#x27;,</span><br><span class="line">Â Â age:Â 18</span><br><span class="line">&#125;</span><br><span class="line">localStorage.setItem(&#x27;author&#x27;,JSON.stringify(obj))</span><br><span class="line"></span><br><span class="line">constÂ authorÂ =Â JSON.parse(localStorage.getItem(&#x27;author&#x27;))</span><br></pre></td></tr></table></figure>

<h4 id="localStorageä¸sessionStorageçš„å¼‚åŒ"><a href="#localStorageä¸sessionStorageçš„å¼‚åŒ" class="headerlink" title="localStorageä¸sessionStorageçš„å¼‚åŒ"></a>localStorageä¸sessionStorageçš„å¼‚åŒ</h4><p><strong>ã€Œç›¸åŒç‚¹ï¼šã€</strong> ä¸¤è€…çš„<code>API</code>å®Œå…¨ç›¸åŒï¼Œéƒ½æ˜¯åœ¨æµè§ˆå™¨ç«¯å­˜å‚¨æ•°æ®ï¼Œå­˜å‚¨å¤§å°éƒ½æ˜¯5M</p>
<p><strong>ã€Œä¸åŒç‚¹ï¼šã€</strong></p>
<ol>
<li> <code>localStorage</code>å­˜å‚¨çš„æ•°æ®æ˜¯æ°¸ä¹…æ€§æ•°æ®,é¡µé¢åˆ·æ–°ï¼Œå³ä½¿æµè§ˆå™¨é‡å¯ï¼Œç”šè‡³æ“ä½œç³»ç»Ÿé‡å¯ä¹Ÿä¸ä¼šä¸¢å¤±ï¼Œå¹¶ä¸”å­˜å‚¨çš„æ•°æ®åœ¨åŒæºï¼ˆåè®®ã€åŸŸåã€ç«¯å£å·ä¸€è‡´ï¼‰ä¸‹çš„æ ‡ç­¾é¡µå’Œ<code>window</code>çª—å£ä¹‹é—´å…±äº«ã€‚</li>
<li> <code>sessionStorage</code>å­˜å‚¨çš„æ•°æ®æœ‰äº›è‹›åˆ»ï¼Œé¡µé¢åˆ·æ–°ä»ç„¶æœ‰æ•ˆ,é€‰é¡¹å¡å…³é—­æ—¶æ•°æ®ä¸¢å¤±ã€‚ä½†æ˜¯åœ¨ç›¸åŒæ ‡ç­¾é¡µæ‰“å¼€çš„å¤šä¸ª<code>iframe</code>ä¹‹é—´æ•°æ®å¯ä»¥å…±äº«(åŒæºçš„æƒ…å†µä¸‹)ã€‚</li>
</ol>
<h4 id="å­˜å‚¨äº‹ä»¶"><a href="#å­˜å‚¨äº‹ä»¶" class="headerlink" title="å­˜å‚¨äº‹ä»¶"></a>å­˜å‚¨äº‹ä»¶</h4><p>æ¯å½“Storageå¯¹è±¡å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéƒ½ä¼šè§¦å‘<code>storage</code>äº‹ä»¶ã€‚ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰</p>
<p>è¿™ä¸ªäº‹ä»¶çš„æ—¶é—´å¯¹è±¡æœ‰4ä¸ªå±æ€§ï¼š</p>
<ul>
<li>  domainï¼šå­˜å‚¨å˜åŒ–å¯¹åº”çš„åŸŸ</li>
<li>  keyï¼šè¢«è®¾ç½®æˆ–è¢«åˆ é™¤çš„é”®</li>
<li>  newValueï¼šé”®è¢«è®¾ç½®çš„æ–°å€¼ï¼Œè‹¥è¢«åˆ é™¤åˆ™ä¸ºnull</li>
<li>  oldValueï¼šé”®å˜åŒ–ä¹‹å‰çš„å€¼</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">window.addEventListener(&#x27;storage&#x27;,Â e=&gt;&#123;</span><br><span class="line">Â Â Â Â console.log(e.domain)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>ã€Œå¯¹äº<code>sessionStorage</code>å’Œ<code>localStorage</code>ä¸Šçš„ä»»ä½•æ›´æ”¹éƒ½ä¼šè§¦å‘<code>storage</code>äº‹ä»¶ï¼Œä½†<code>storage</code>äº‹ä»¶ä¸ä¼šåŒºåˆ†è¿™ä¸¤è€…ã€</strong></p>
<h3 id="IndexedDB"><a href="#IndexedDB" class="headerlink" title="IndexedDB"></a>IndexedDB</h3><blockquote>
<p>â</p>
<p>Indexed Database APIç®€ç§° IndexedDBï¼Œæ˜¯æµè§ˆå™¨ä¸­å­˜å‚¨ç»“æ„è¯æ•°æ®çš„ä¸€ä¸ªæ–¹æ¡ˆã€‚IndexedDBç”¨äºä»£æ›¿ç›®å‰å·²åºŸå¼ƒçš„ Web SQL</p>
<p>â</p>
</blockquote>
<h4 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h4><ul>
<li>  Databaseï¼šé€šè¿‡<code>open</code>æ–¹æ³•ç›´æ¥æ‰“å¼€</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">constÂ dbÂ =Â indexDB.open(&#x27;testDB&#x27;);</span><br></pre></td></tr></table></figure>

<ul>
<li>  Object storeï¼šè¿™ä¸ªå°±æ˜¯DBé‡Œé¢å…·ä½“å­˜å‚¨çš„å¯¹è±¡ã€‚è¿™ä¸ªå¯å¯¹åº”SQLé‡Œé¢çš„tableå†…å®¹ã€‚å…¶å­˜å‚¨çš„ç»“æ„ä¸ºï¼š</li>
</ul>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f9761c22cdf94daab724f25e11648f96~tplv-k3u1fbpfcp-watermark.image" alt="db1.png"></p>
<ul>
<li>  Indexï¼šæœ‰ç‚¹ç±»ä¼¼äºå¤–é“¾ï¼Œå®ƒæœ¬èº«æ˜¯ä¸€ç§<code>Object store</code>ï¼Œä¸»è¦ç”¨æ¥æœ¬ä½“çš„<code>store</code>ä¸­ï¼Œç´¢å¼•å¦å¤–çš„<code>object store</code>é‡Œé¢çš„æ•°æ®ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//Â åˆ›å»ºÂ index</span><br><span class="line">varÂ myIndexÂ =Â objectStore.index(&#x27;lName&#x27;);Â </span><br></pre></td></tr></table></figure>

<ul>
<li>  transaction: äº‹åŠ¡å…¶å®å°±æ˜¯ä¸€ç³»åˆ— CRUD çš„é›†åˆå†…å®¹ã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ªç¯èŠ‚å¤±è´¥äº†ï¼Œé‚£ä¹ˆæ•´ä¸ªäº‹åŠ¡çš„å¤„ç†éƒ½ä¼šè¢«å–æ¶ˆã€‚</li>
<li>  cursor: ä¸»è¦æ˜¯ç”¨æ¥éå† DB é‡Œé¢çš„æ•°æ®å†…å®¹ã€‚ä¸»è¦æ˜¯é€šè¿‡ <code>openCursor</code> æ¥è¿›è¡Œæ§åˆ¶ã€‚</li>
</ul>
<h4 id="åˆ›å»ºæ•°æ®åº“"><a href="#åˆ›å»ºæ•°æ®åº“" class="headerlink" title="åˆ›å»ºæ•°æ®åº“"></a>åˆ›å»ºæ•°æ®åº“</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">constÂ requestÂ =Â indexedDB.open(dbName);</span><br><span class="line"></span><br><span class="line">request.onerrorÂ =Â function(event)Â &#123;</span><br><span class="line">Â Â //Â é”™è¯¯å¤„ç†ç¨‹åºã€‚</span><br><span class="line">&#125;;</span><br><span class="line">request.onupgradeneededÂ =Â function(event)Â &#123;</span><br><span class="line">Â Â varÂ dbÂ =Â event.target.result;</span><br><span class="line">Â Â //Â è®¾ç½®Â idÂ ä¸ºÂ primaryKeyÂ å‚æ•°</span><br><span class="line">Â Â varÂ objectStoreÂ =Â db.createObjectStore(&quot;customers&quot;,Â &#123;Â keyPath:Â &quot;id&quot;,&#123;autoIncrement:true&#125;Â &#125;);</span><br><span class="line">Â Â </span><br><span class="line">Â Â //Â è®¾ç½®æŒ‡å®šç´¢å¼•ï¼Œå¹¶ç¡®ä¿å”¯ä¸€æ€§</span><br><span class="line">Â Â objectStore.createIndex(&quot;name&quot;,Â &quot;name&quot;,Â &#123;Â unique:Â falseÂ &#125;);</span><br><span class="line">Â Â objectStore.createIndex(&quot;email&quot;,Â &quot;email&quot;,Â &#123;Â unique:Â trueÂ &#125;);</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="åˆ›å»º-Object-Store"><a href="#åˆ›å»º-Object-Store" class="headerlink" title="åˆ›å»º Object Store"></a>åˆ›å»º Object Store</h4><p>ä½¿ç”¨çš„æ–¹æ³•å°±æ˜¯ IDBDatabase ä¸Šçš„ <code>createObjectStore</code> æ–¹æ³•ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">constÂ objectStoreÂ =Â db.createObjectStore(&quot;customers&quot;,Â &#123;Â keyPath:Â &quot;id&quot;,&#123;autoIncrement:true&#125;Â &#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>  keyPath: ç”¨æ¥è®¾ç½®ä¸»é”®çš„ keyï¼Œå…·ä½“åŒºåˆ«å¯ä»¥å‚è€ƒä¸‹é¢çš„ keyPath å’Œ generator çš„åŒºåˆ«ã€‚</li>
<li>  autoIncrement: æ˜¯å¦ä½¿ç”¨è‡ªå¢ key çš„ç‰¹æ€§ã€‚</li>
</ul>
<p><strong>ã€Œåˆ›å»ºçš„ key ä¸»è¦æ˜¯ä¸ºäº†ä¿è¯ï¼Œåœ¨æ•°æ®æ’å…¥æ—¶å”¯ä¸€æ€§çš„æ ‡è¯†ã€‚ã€</strong></p>
<h4 id="è®¾ç½®ç´¢å¼•-index"><a href="#è®¾ç½®ç´¢å¼•-index" class="headerlink" title="è®¾ç½®ç´¢å¼• index"></a>è®¾ç½®ç´¢å¼• index</h4><p>åœ¨å®Œæˆ PK(Primary key) åˆ›å»ºå®Œæ¯•åï¼Œä¸ºäº†æ›´å¥½çš„æœç´¢æ€§èƒ½æˆ‘ä»¬è¿˜éœ€è¦é¢å¤–åˆ›å»º <code>index</code>ã€‚è¿™é‡Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">objectStore.createIndex(&#x27;indexName&#x27;,Â &#x27;property&#x27;,Â options);</span><br></pre></td></tr></table></figure>

<ul>
<li>  indexName: è®¾ç½®å½“å‰ index çš„åå­—</li>
<li>  property: ä»å­˜å‚¨æ•°æ®ä¸­ï¼ŒæŒ‡æ˜ index æ‰€æŒ‡çš„å±æ€§ã€‚</li>
</ul>
<p>å…¶ä¸­ï¼Œoptions æœ‰ä¸‰ä¸ªé€‰é¡¹ï¼š</p>
<ul>
<li>  unique: å½“å‰ key æ˜¯å¦èƒ½é‡å¤ (æœ€å¸¸ç”¨)</li>
<li>  multiEntry: è®¾ç½®å½“å‰çš„ property ä¸ºæ•°ç»„æ—¶ï¼Œä¼šç»™æ•°ç»„é‡Œé¢æ¯ä¸ªå…ƒç´ éƒ½è®¾ç½®ä¸€ä¸ª index å€¼ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//Â åˆ›å»ºä¸€ä¸ªåå­—å«Â titleIndexÂ çš„Â indexï¼Œå¹¶ä¸”å­˜å‚¨çš„Â indexÂ ä¸èƒ½é‡å¤</span><br><span class="line">DB.createIndex(&#x27;titleIndex&#x27;,Â &#x27;title&#x27;,Â &#123;unique:Â false&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="å¢åˆ æ•°æ®"><a href="#å¢åˆ æ•°æ®" class="headerlink" title="å¢åˆ æ•°æ®"></a>å¢åˆ æ•°æ®</h4><p>åœ¨ IndexedDB é‡Œé¢è¿›è¡Œæ•°æ®çš„å¢åˆ ï¼Œéƒ½éœ€è¦åœ¨ <code>transaction</code> ä¸­å®Œæˆã€‚è€Œè¿™ä¸ªå¢åˆ æ•°æ®ï¼Œå¤§å®¶å¯ä»¥ç†è§£ä¸ºä¸€æ¬¡ <code>request</code>ï¼Œç›¸å½“äºåœ¨ä¸€ä¸ª <code>transaction</code> é‡Œé¢ç®¡ç†æ‰€æœ‰å½“å‰é€»è¾‘æ“ä½œçš„ <code>request</code>ã€‚æ‰€ä»¥ï¼Œåœ¨æ­£å¼å¼€å§‹è¿›è¡Œæ•°æ®æ“ä½œä¹‹å‰ï¼Œè¿˜éœ€è¦ç»™å¤§å®¶ç®€å•ä»‹ç»ä¸€äº›å¦‚æœåˆ›å»ºä¸€ä¸ªäº‹åŠ¡ã€‚</p>
<h4 id="äº‹åŠ¡çš„åˆ›å»º"><a href="#äº‹åŠ¡çš„åˆ›å»º" class="headerlink" title="äº‹åŠ¡çš„åˆ›å»º"></a>äº‹åŠ¡çš„åˆ›å»º</h4><p><code>transaction</code> APIï¼Œåœ¨åˆ›å»ºæ—¶ï¼Œä½ éœ€è¦æ‰‹åŠ¨æŒ‡å®šå½“å‰ transaction æ˜¯é‚£ç§ç±»å‹çš„æ“ä½œï¼ŒåŸºæœ¬çš„å†…å®¹æœ‰ï¼š</p>
<ul>
<li>  â€œreadonlyâ€ï¼šåªè¯»</li>
<li>  â€œreadwriteâ€ï¼šè¯»å†™</li>
<li>  â€œversionchangeâ€ï¼šè¿™ä¸ªä¸èƒ½æ‰‹åŠ¨æŒ‡å®šï¼Œä¼šåœ¨ <code>upgradeneeded</code> å›è°ƒäº‹ä»¶é‡Œé¢è‡ªåŠ¨åˆ›å»ºã€‚å®ƒå¯ä»¥ç”¨æ¥ä¿®æ”¹ç°æœ‰ object store çš„ç»“æ„æ•°æ®ï¼Œæ¯”å¦‚ index ç­‰ã€‚</li>
</ul>
<p>ä½ å¯ä»¥é€šè¿‡åœ¨æ•°æ®åº“æ‰“å¼€ä¹‹åï¼Œé€šè¿‡ <code>IDBDataBase</code> ä¸Šçš„ <code>transaction</code> æ–¹æ³•åˆ›å»º</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">constÂ transactionÂ =Â db.transaction([&quot;customers&quot;],Â &quot;readwrite&quot;);</span><br><span class="line">constÂ objectStoreÂ =Â transaction.objectStore(&quot;customers&quot;);</span><br><span class="line">Â //Â éå†å­˜å‚¨æ•°æ®</span><br><span class="line">forÂ (letÂ iÂ inÂ customerData)Â &#123;</span><br><span class="line">Â Â constÂ requestÂ =Â objectStore.add(customerData[i]);</span><br><span class="line">Â Â request.onsuccessÂ =Â function(event)Â &#123;</span><br><span class="line">Â Â Â Â //Â success,Â done?</span><br><span class="line">Â Â &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ“ä½œæ•°æ®"><a href="#æ“ä½œæ•°æ®" class="headerlink" title="æ“ä½œæ•°æ®"></a>æ“ä½œæ•°æ®</h4><p>å®Œæˆäº†äº‹åŠ¡çš„åˆ›å»ºä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥æ­£å¼çš„å¼€å§‹è¿›è¡Œæ•°æ®çš„äº¤äº’æ“ä½œäº†ï¼Œä¹Ÿå°±æ˜¯å†™æˆ‘ä»¬å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ã€‚å¦‚ä¸‹ï¼Œä¸€ä¸ªå®Œæ•´æ•°æ®äº‹åŠ¡çš„æ“ä½œã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">constÂ txÂ =Â db.transaction(&quot;books&quot;,Â &quot;readwrite&quot;);</span><br><span class="line">constÂ storeÂ =Â tx.objectStore(&quot;books&quot;);</span><br><span class="line"></span><br><span class="line">store.put(&#123;title:Â &quot;aaaaa&quot;,Â author:Â &quot;Fred&quot;,Â isbn:Â 1111&#125;);</span><br><span class="line">store.put(&#123;title:Â &quot;bbbbb&quot;,Â author:Â &quot;Fred&quot;,Â isbn:Â 2222&#125;);</span><br><span class="line">store.put(&#123;title:Â &quot;ccccc&quot;,Â author:Â &quot;Barney&quot;,Â isbn:Â 3333&#125;);</span><br><span class="line"></span><br><span class="line">tx.oncompleteÂ =Â function()Â &#123;</span><br><span class="line">Â Â //Â AllÂ requestsÂ haveÂ succeededÂ andÂ theÂ transactionÂ hasÂ committed.</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="ç´¢å¼•æ•°æ®"><a href="#ç´¢å¼•æ•°æ®" class="headerlink" title="ç´¢å¼•æ•°æ®"></a>ç´¢å¼•æ•°æ®</h4><p>ç´¢å¼•æ•°æ®æ˜¯æ‰€æœ‰æ•°æ®åº“é‡Œé¢æœ€é‡è¦çš„ä¸€ä¸ªã€‚è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨index æ¥åšã€‚ä¾‹å¦‚ï¼Œé€šè¿‡ index æ¥å¿«é€Ÿç´¢å¼• key å€¼</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">constÂ indexÂ =Â objectStore.index(&quot;username&quot;);</span><br><span class="line">index.openCursor.onsuccessÂ =Â function(event)Â &#123;</span><br><span class="line">Â Â //Â å¤„ç†æˆåŠŸ</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="ç‚¹èµã€å…³æ³¨å’Œè¯„è®º"><a href="#ç‚¹èµã€å…³æ³¨å’Œè¯„è®º" class="headerlink" title="ç‚¹èµã€å…³æ³¨å’Œè¯„è®º"></a>ç‚¹èµã€å…³æ³¨å’Œè¯„è®º</h2><p>æˆ‘æ˜¯<code>å‰ç«¯å—ç–</code>ï¼Œæ„Ÿè°¢å„ä½çš„ï¼š<strong>ã€Œç‚¹èµã€å…³æ³¨å’Œè¯„è®ºã€</strong>ï¼Œæˆ‘ä»¬ä¸‹æœŸè§ï¼</p>
<p>åŠ å…¥å‰ç«¯äº¤æµç¾¤<code>928029210</code>ï¼Œè¿™é‡Œæœ‰è®¸å¤šå¿—åŒé“åˆçš„å‰ç«¯å¼€å‘è€…ï¼Œä¸€èµ·äº¤æµï¼Œå…±åŒè¿›æ­¥ï½</p>

      
    </div>
    
    
    

    
      <div>
        <div id="wechat_subscriber" style="display: block; padding: 10px 0; margin: 20px auto; width: 100%; text-align: center">
    <img id="wechat_subscriber_qcode" src="/uploads/wx_scan.png" alt="songyao wechat" style="width: 200px; max-width: 100%;"/>
    <div>æ‰«ä¸€æ‰«ï¼Œæ¬¢è¿å…³æ³¨å‰ç«¯å—ç–ï½</div>
</div>

      </div>
    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>åšæŒæŠ€æœ¯åˆ†äº«ï¼Œæ‚¨çš„æ”¯æŒå°†é¼“åŠ±æˆ‘ç»§ç»­åˆ›ä½œï½</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>æ‰“èµ</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/uploads/wx_pay.jpg" alt="songyao å¾®ä¿¡æ”¯ä»˜"/>
        <p>å¾®ä¿¡æ”¯ä»˜</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/uploads/ali_pay.jpg" alt="songyao æ”¯ä»˜å®"/>
        <p>æ”¯ä»˜å®</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag"><i class="fa fa-tag"></i> å‰ç«¯</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2021/10/28/%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1%E4%B8%8E%E5%90%8E%E7%AB%AF%E8%B7%AF%E7%94%B1/" rel="next" title="é¢è¯•å®˜ï¼šè¯´ä¸€è¯´å‰ç«¯è·¯ç”±ä¸åç«¯è·¯ç”±çš„åŒºåˆ«">
                <i class="fa fa-chevron-left"></i> é¢è¯•å®˜ï¼šè¯´ä¸€è¯´å‰ç«¯è·¯ç”±ä¸åç«¯è·¯ç”±çš„åŒºåˆ«
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a target="_blank" rel="noopener" href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/uploads/my.jpg"
                alt="songyao" />
            
              <p class="site-author-name" itemprop="name">songyao</p>
              <p class="site-description motion-element" itemprop="description">æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·ï¼šå‰ç«¯å—ç–</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/bettersong" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:songyao666@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-number">1.</span> <span class="nav-text">å‰è¨€</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#HTML5%E5%B8%B8%E7%94%A8%E7%9A%84%E5%87%A0%E7%A7%8D%E5%AD%98%E5%82%A8%E6%96%B9%E5%BC%8F"><span class="nav-number">1.1.</span> <span class="nav-text">HTML5å¸¸ç”¨çš„å‡ ç§å­˜å‚¨æ–¹å¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cookie"><span class="nav-number">1.2.</span> <span class="nav-text">cookie</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#cookie%E7%9A%84%E6%9E%84%E6%88%90"><span class="nav-number">1.2.1.</span> <span class="nav-text">cookieçš„æ„æˆ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%99%90%E5%88%B6"><span class="nav-number">1.2.2.</span> <span class="nav-text">é™åˆ¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#JavaScript%E4%B8%AD%E7%9A%84cookie"><span class="nav-number">1.2.3.</span> <span class="nav-text">JavaScriptä¸­çš„cookie</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96cookie"><span class="nav-number">1.2.4.</span> <span class="nav-text">è·å–cookie</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AEcookie"><span class="nav-number">1.2.5.</span> <span class="nav-text">è®¾ç½®cookie</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A0%E9%99%A4cookie"><span class="nav-number">1.2.6.</span> <span class="nav-text">åˆ é™¤cookie</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#cookie%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84%EF%BC%9F"><span class="nav-number">1.2.7.</span> <span class="nav-text">cookieæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#localStorage-%E5%92%8CsessionStorage"><span class="nav-number">1.3.</span> <span class="nav-text">localStorage å’ŒsessionStorage</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B9%E6%B3%95"><span class="nav-number">1.3.1.</span> <span class="nav-text">æ–¹æ³•</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%98%E5%82%A8JSON%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="nav-number">1.3.2.</span> <span class="nav-text">å­˜å‚¨JSONå¯¹è±¡çš„æ•°æ®</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#localStorage%E4%B8%8EsessionStorage%E7%9A%84%E5%BC%82%E5%90%8C"><span class="nav-number">1.3.3.</span> <span class="nav-text">localStorageä¸sessionStorageçš„å¼‚åŒ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%98%E5%82%A8%E4%BA%8B%E4%BB%B6"><span class="nav-number">1.3.4.</span> <span class="nav-text">å­˜å‚¨äº‹ä»¶</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IndexedDB"><span class="nav-number">1.4.</span> <span class="nav-text">IndexedDB</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-number">1.4.1.</span> <span class="nav-text">åŸºæœ¬æ¦‚å¿µ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">1.4.2.</span> <span class="nav-text">åˆ›å»ºæ•°æ®åº“</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA-Object-Store"><span class="nav-number">1.4.3.</span> <span class="nav-text">åˆ›å»º Object Store</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E7%B4%A2%E5%BC%95-index"><span class="nav-number">1.4.4.</span> <span class="nav-text">è®¾ç½®ç´¢å¼• index</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A2%9E%E5%88%A0%E6%95%B0%E6%8D%AE"><span class="nav-number">1.4.5.</span> <span class="nav-text">å¢åˆ æ•°æ®</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="nav-number">1.4.6.</span> <span class="nav-text">äº‹åŠ¡çš„åˆ›å»º</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE"><span class="nav-number">1.4.7.</span> <span class="nav-text">æ“ä½œæ•°æ®</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E6%95%B0%E6%8D%AE"><span class="nav-number">1.4.8.</span> <span class="nav-text">ç´¢å¼•æ•°æ®</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%82%B9%E8%B5%9E%E3%80%81%E5%85%B3%E6%B3%A8%E5%92%8C%E8%AF%84%E8%AE%BA"><span class="nav-number">2.</span> <span class="nav-text">ç‚¹èµã€å…³æ³¨å’Œè¯„è®º</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">songyao</span>

  
</div>




  <a target="_blank" rel="noopener" href="https://www.cnblogs.com/songyao666/" class="post-meta-divider">åšå®¢å›­</a>
  <a target="_blank" rel="noopener" href="https://juejin.cn/user/219558057873005" class="post-meta-divider">æ˜é‡‘</a>
  <span class="post-meta-divider">å¾®ä¿¡å…¬ä¼—å·ï¼šå‰ç«¯å—ç–</span>






        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  

    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'https://bettersong.github.io/2021/11/01/%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8/';
          this.page.identifier = '2021/11/01/æœ¬åœ°å­˜å‚¨/';
          this.page.title = 'è¿™ä¸€æ¬¡å¸¦ä½ å½»åº•äº†è§£å‰ç«¯æœ¬åœ°å­˜å‚¨';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://bettersong.github.io.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  












  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: true,
        notify: true,
        appId: 'wDxOQGAiCHeiIi0Dz7A7lfmS-gzGzoHsz',
        appKey: 'NXodSccyH1EXXRVHD2bPQoVa',
        placeholder: 'ç•™è¨€åŒºï½',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  

  

  

</body>

</html>
